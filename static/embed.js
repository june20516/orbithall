(()=>{var l,R,Or,tr,x,zr,Rr,Ar,wr,cr,or,dr,Tr,e={},Wr=[],ur=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function J(r,b){for(var a in b)r[a]=b[a];return r}function ir(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function nr(r,b,a){var o,v,d,c={};for(d in b)d=="key"?o=b[d]:d=="ref"?v=b[d]:c[d]=b[d];if(arguments.length>2&&(c.children=arguments.length>3?l.call(arguments,2):a),typeof r=="function"&&r.defaultProps!=null)for(d in r.defaultProps)c[d]===void 0&&(c[d]=r.defaultProps[d]);return V(r,c,o,v,null)}function V(r,b,a,o,v){var d={type:r,props:b,key:a,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:v==null?++Or:v,__i:-1,__u:0};return v==null&&R.vnode!=null&&R.vnode(d),d}function Y(r){return r.children}function E(r,b){this.props=r,this.context=b}function L(r,b){if(b==null)return r.__?L(r.__,r.__i+1):null;for(var a;b<r.__k.length;b++)if((a=r.__k[b])!=null&&a.__e!=null)return a.__e;return typeof r.type=="function"?L(r):null}function Xr(r){var b,a;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,b=0;b<r.__k.length;b++)if((a=r.__k[b])!=null&&a.__e!=null){r.__e=r.__c.base=a.__e;break}return Xr(r)}}function gr(r){(!r.__d&&(r.__d=!0)&&x.push(r)&&!D.__r++||zr!=R.debounceRendering)&&((zr=R.debounceRendering)||Rr)(D)}function D(){for(var r,b,a,o,v,d,c,f=1;x.length;)x.length>f&&x.sort(Ar),r=x.shift(),f=x.length,r.__d&&(a=void 0,o=void 0,v=(o=(b=r).__v).__e,d=[],c=[],b.__P&&((a=J({},o)).__v=o.__v+1,R.vnode&&R.vnode(a),fr(b.__P,a,o,b.__n,b.__P.namespaceURI,32&o.__u?[v]:null,d,v==null?L(o):v,!!(32&o.__u),c),a.__v=o.__v,a.__.__k[a.__i]=a,Gr(d,a,c),o.__e=o.__=null,a.__e!=v&&Xr(a)));D.__r=0}function sr(r,b,a,o,v,d,c,f,I,i,N){var g,m,y,_,P,k,z,O=o&&o.__k||Wr,A=b.length;for(I=rb(a,b,O,I,A),g=0;g<A;g++)(y=a.__k[g])!=null&&(m=y.__i==-1?e:O[y.__i]||e,y.__i=g,k=fr(r,y,m,v,d,c,f,I,i,N),_=y.__e,y.ref&&m.ref!=y.ref&&(m.ref&&Nr(m.ref,null,y),N.push(y.ref,y.__c||_,y)),P==null&&_!=null&&(P=_),(z=!!(4&y.__u))||m.__k===y.__k?I=qr(y,I,r,z):typeof y.type=="function"&&k!==void 0?I=k:_&&(I=_.nextSibling),y.__u&=-7);return a.__e=P,I}function rb(r,b,a,o,v){var d,c,f,I,i,N=a.length,g=N,m=0;for(r.__k=Array(v),d=0;d<v;d++)(c=b[d])!=null&&typeof c!="boolean"&&typeof c!="function"?(I=d+m,(c=r.__k[d]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?V(null,c,null,null,null):h(c)?V(Y,{children:c},null,null,null):c.constructor==null&&c.__b>0?V(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=r,c.__b=r.__b+1,f=null,(i=c.__i=bb(c,a,I,g))!=-1&&(g--,(f=a[i])&&(f.__u|=2)),f==null||f.__v==null?(i==-1&&(v>N?m--:v<N&&m++),typeof c.type!="function"&&(c.__u|=4)):i!=I&&(i==I-1?m--:i==I+1?m++:(i>I?m--:m++,c.__u|=4))):r.__k[d]=null;if(g)for(d=0;d<N;d++)(f=a[d])!=null&&(2&f.__u)==0&&(f.__e==o&&(o=L(f)),Jr(f,f));return o}function qr(r,b,a,o){var v,d;if(typeof r.type=="function"){for(v=r.__k,d=0;v&&d<v.length;d++)v[d]&&(v[d].__=r,b=qr(v[d],b,a,o));return b}r.__e!=b&&(o&&(b&&r.type&&!b.parentNode&&(b=L(r)),a.insertBefore(r.__e,b||null)),b=r.__e);do b=b&&b.nextSibling;while(b!=null&&b.nodeType==8);return b}function bb(r,b,a,o){var v,d,c,f=r.key,I=r.type,i=b[a],N=i!=null&&(2&i.__u)==0;if(i===null&&r.key==null||N&&f==i.key&&I==i.type)return a;if(o>(N?1:0)){for(v=a-1,d=a+1;v>=0||d<b.length;)if((i=b[c=v>=0?v--:d++])!=null&&(2&i.__u)==0&&f==i.key&&I==i.type)return c}return-1}function Pr(r,b,a){b[0]=="-"?r.setProperty(b,a==null?"":a):r[b]=a==null?"":typeof a!="number"||ur.test(b)?a:a+"px"}function S(r,b,a,o,v){var d,c;r:if(b=="style")if(typeof a=="string")r.style.cssText=a;else{if(typeof o=="string"&&(r.style.cssText=o=""),o)for(b in o)a&&b in a||Pr(r.style,b,"");if(a)for(b in a)o&&a[b]==o[b]||Pr(r.style,b,a[b])}else if(b[0]=="o"&&b[1]=="n")d=b!=(b=b.replace(wr,"$1")),c=b.toLowerCase(),b=c in r||b=="onFocusOut"||b=="onFocusIn"?c.slice(2):b.slice(2),r.l||(r.l={}),r.l[b+d]=a,a?o?a.u=o.u:(a.u=cr,r.addEventListener(b,d?dr:or,d)):r.removeEventListener(b,d?dr:or,d);else{if(v=="http://www.w3.org/2000/svg")b=b.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(b!="width"&&b!="height"&&b!="href"&&b!="list"&&b!="form"&&b!="tabIndex"&&b!="download"&&b!="rowSpan"&&b!="colSpan"&&b!="role"&&b!="popover"&&b in r)try{r[b]=a==null?"":a;break r}catch(f){}typeof a=="function"||(a==null||a===!1&&b[4]!="-"?r.removeAttribute(b):r.setAttribute(b,b=="popover"&&a==1?"":a))}}function kr(r){return function(b){if(this.l){var a=this.l[b.type+r];if(b.t==null)b.t=cr++;else if(b.t<a.u)return;return a(R.event?R.event(b):b)}}}function fr(r,b,a,o,v,d,c,f,I,i){var N,g,m,y,_,P,k,z,O,A,s,$,X,Q,M,K,ar,G=b.type;if(b.constructor!=null)return null;128&a.__u&&(I=!!(32&a.__u),d=[f=b.__e=a.__e]),(N=R.__b)&&N(b);r:if(typeof G=="function")try{if(z=b.props,O="prototype"in G&&G.prototype.render,A=(N=G.contextType)&&o[N.__c],s=N?A?A.props.value:N.__:o,a.__c?k=(g=b.__c=a.__c).__=g.__E:(O?b.__c=g=new G(z,s):(b.__c=g=new E(z,s),g.constructor=G,g.render=ob),A&&A.sub(g),g.props=z,g.state||(g.state={}),g.context=s,g.__n=o,m=g.__d=!0,g.__h=[],g._sb=[]),O&&g.__s==null&&(g.__s=g.state),O&&G.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=J({},g.__s)),J(g.__s,G.getDerivedStateFromProps(z,g.__s))),y=g.props,_=g.state,g.__v=b,m)O&&G.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),O&&g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(O&&G.getDerivedStateFromProps==null&&z!==y&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(z,s),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(z,g.__s,s)===!1||b.__v==a.__v){for(b.__v!=a.__v&&(g.props=z,g.state=g.__s,g.__d=!1),b.__e=a.__e,b.__k=a.__k,b.__k.some(function(H){H&&(H.__=b)}),$=0;$<g._sb.length;$++)g.__h.push(g._sb[$]);g._sb=[],g.__h.length&&c.push(g);break r}g.componentWillUpdate!=null&&g.componentWillUpdate(z,g.__s,s),O&&g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(y,_,P)})}if(g.context=s,g.props=z,g.__P=r,g.__e=!1,X=R.__r,Q=0,O){for(g.state=g.__s,g.__d=!1,X&&X(b),N=g.render(g.props,g.state,g.context),M=0;M<g._sb.length;M++)g.__h.push(g._sb[M]);g._sb=[]}else do g.__d=!1,X&&X(b),N=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++Q<25);g.state=g.__s,g.getChildContext!=null&&(o=J(J({},o),g.getChildContext())),O&&!m&&g.getSnapshotBeforeUpdate!=null&&(P=g.getSnapshotBeforeUpdate(y,_)),K=N,N!=null&&N.type===Y&&N.key==null&&(K=Yr(N.props.children)),f=sr(r,h(K)?K:[K],b,a,o,v,d,c,f,I,i),g.base=b.__e,b.__u&=-161,g.__h.length&&c.push(g),k&&(g.__E=g.__=null)}catch(H){if(b.__v=null,I||d!=null)if(H.then){for(b.__u|=I?160:128;f&&f.nodeType==8&&f.nextSibling;)f=f.nextSibling;d[d.indexOf(f)]=null,b.__e=f}else{for(ar=d.length;ar--;)ir(d[ar]);vr(b)}else b.__e=a.__e,b.__k=a.__k,H.then||vr(b);R.__e(H,b,a)}else d==null&&b.__v==a.__v?(b.__k=a.__k,b.__e=a.__e):f=b.__e=ab(a.__e,b,a,o,v,d,c,I,i);return(N=R.diffed)&&N(b),128&b.__u?void 0:f}function vr(r){r&&r.__c&&(r.__c.__e=!0),r&&r.__k&&r.__k.forEach(vr)}function Gr(r,b,a){for(var o=0;o<a.length;o++)Nr(a[o],a[++o],a[++o]);R.__c&&R.__c(b,r),r.some(function(v){try{r=v.__h,v.__h=[],r.some(function(d){d.call(v)})}catch(d){R.__e(d,v.__v)}})}function Yr(r){return typeof r!="object"||r==null||r.__b&&r.__b>0?r:h(r)?r.map(Yr):J({},r)}function ab(r,b,a,o,v,d,c,f,I){var i,N,g,m,y,_,P,k=a.props,z=b.props,O=b.type;if(O=="svg"?v="http://www.w3.org/2000/svg":O=="math"?v="http://www.w3.org/1998/Math/MathML":v||(v="http://www.w3.org/1999/xhtml"),d!=null){for(i=0;i<d.length;i++)if((y=d[i])&&"setAttribute"in y==!!O&&(O?y.localName==O:y.nodeType==3)){r=y,d[i]=null;break}}if(r==null){if(O==null)return document.createTextNode(z);r=document.createElementNS(v,O,z.is&&z),f&&(R.__m&&R.__m(b,d),f=!1),d=null}if(O==null)k===z||f&&r.data==z||(r.data=z);else{if(d=d&&l.call(r.childNodes),k=a.props||e,!f&&d!=null)for(k={},i=0;i<r.attributes.length;i++)k[(y=r.attributes[i]).name]=y.value;for(i in k)if(y=k[i],i=="children");else if(i=="dangerouslySetInnerHTML")g=y;else if(!(i in z)){if(i=="value"&&"defaultValue"in z||i=="checked"&&"defaultChecked"in z)continue;S(r,i,null,y,v)}for(i in z)y=z[i],i=="children"?m=y:i=="dangerouslySetInnerHTML"?N=y:i=="value"?_=y:i=="checked"?P=y:f&&typeof y!="function"||k[i]===y||S(r,i,y,k[i],v);if(N)f||g&&(N.__html==g.__html||N.__html==r.innerHTML)||(r.innerHTML=N.__html),b.__k=[];else if(g&&(r.innerHTML=""),sr(b.type=="template"?r.content:r,h(m)?m:[m],b,a,o,O=="foreignObject"?"http://www.w3.org/1999/xhtml":v,d,c,d?d[0]:a.__k&&L(a,0),f,I),d!=null)for(i=d.length;i--;)ir(d[i]);f||(i="value",O=="progress"&&_==null?r.removeAttribute("value"):_!=null&&(_!==r[i]||O=="progress"&&!_||O=="option"&&_!=k[i])&&S(r,i,_,k[i],v),i="checked",P!=null&&P!=r[i]&&S(r,i,P,k[i],v))}return r}function Nr(r,b,a){try{if(typeof r=="function"){var o=typeof r.__u=="function";o&&r.__u(),o&&b==null||(r.__u=r(b))}else r.current=b}catch(v){R.__e(v,a)}}function Jr(r,b,a){var o,v;if(R.unmount&&R.unmount(r),(o=r.ref)&&(o.current&&o.current!=r.__e||Nr(o,null,b)),(o=r.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(d){R.__e(d,b)}o.base=o.__P=null}if(o=r.__k)for(v=0;v<o.length;v++)o[v]&&Jr(o[v],b,a||typeof r.type!="function");a||ir(r.__e),r.__c=r.__=r.__e=void 0}function ob(r,b,a){return this.constructor(r,a)}function Zr(r,b,a){var o,v,d,c;b==document&&(b=document.documentElement),R.__&&R.__(r,b),v=(o=typeof a=="function")?null:a&&a.__k||b.__k,d=[],c=[],fr(b,r=(!o&&a||b).__k=nr(Y,null,[r]),v||e,e,b.namespaceURI,!o&&a?[a]:v?null:b.firstChild?l.call(b.childNodes):null,d,!o&&a?a:v?v.__e:b.firstChild,o,c),Gr(d,r,c)}function Qr(r){function b(a){var o,v;return this.getChildContext||(o=new Set,(v={})[b.__c]=this,this.getChildContext=function(){return v},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(d){this.props.value!=d.value&&o.forEach(function(c){c.__e=!0,gr(c)})},this.sub=function(d){o.add(d);var c=d.componentWillUnmount;d.componentWillUnmount=function(){o&&o.delete(d),c&&c.call(d)}}),a.children}return b.__c="__cC"+Tr++,b.__=r,b.Provider=b.__l=(b.Consumer=function(a,o){return a.children(o)}).contextType=b,b}l=Wr.slice,R={__e:function(r,b,a,o){for(var v,d,c;b=b.__;)if((v=b.__c)&&!v.__)try{if((d=v.constructor)&&d.getDerivedStateFromError!=null&&(v.setState(d.getDerivedStateFromError(r)),c=v.__d),v.componentDidCatch!=null&&(v.componentDidCatch(r,o||{}),c=v.__d),c)return v.__E=v}catch(f){r=f}throw r}},Or=0,tr=function(r){return r!=null&&r.constructor==null},E.prototype.setState=function(r,b){var a;a=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=J({},this.state),typeof r=="function"&&(r=r(J({},a),this.props)),r&&J(a,r),r!=null&&this.__v&&(b&&this._sb.push(b),gr(this))},E.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),gr(this))},E.prototype.render=Y,x=[],Rr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ar=function(r,b){return r.__v.__b-b.__v.__b},D.__r=0,wr=/(PointerCapture)$|Capture$/i,cr=0,or=kr(!1),dr=kr(!0),Tr=0;var F,w,mr,xr,yr=0,er=[],T=R,Br=T.__b,$r=T.__r,Hr=T.diffed,Lr=T.__c,Fr=T.unmount,Ur=T.__;function t(r,b){T.__h&&T.__h(w,r,yr||b),yr=0;var a=w.__H||(w.__H={__:[],__h:[]});return r>=a.__.length&&a.__.push({}),a.__[r]}function W(r){return yr=1,db(Sr,r)}function db(r,b,a){var o=t(F++,2);if(o.t=r,!o.__c&&(o.__=[a?a(b):Sr(void 0,b),function(f){var I=o.__N?o.__N[0]:o.__[0],i=o.t(I,f);I!==i&&(o.__N=[i,o.__[1]],o.__c.setState({}))}],o.__c=w,!w.__f)){var v=function(f,I,i){if(!o.__c.__H)return!0;var N=o.__c.__H.__.filter(function(m){return!!m.__c});if(N.every(function(m){return!m.__N}))return!d||d.call(this,f,I,i);var g=o.__c.props!==f;return N.forEach(function(m){if(m.__N){var y=m.__[0];m.__=m.__N,m.__N=void 0,y!==m.__[0]&&(g=!0)}}),d&&d.call(this,f,I,i)||g};w.__f=!0;var{shouldComponentUpdate:d,componentWillUpdate:c}=w;w.componentWillUpdate=function(f,I,i){if(this.__e){var N=d;d=void 0,v(f,I,i),d=N}c&&c.call(this,f,I,i)},w.shouldComponentUpdate=v}return o.__N||o.__}function u(r,b){var a=t(F++,3);!T.__s&&Mr(a.__H,b)&&(a.__=r,a.u=b,w.__H.__h.push(a))}function B(r,b){var a=t(F++,7);return Mr(a.__H,b)&&(a.__=r(),a.__H=b,a.__h=r),a.__}function Cr(r){var b=w.context[r.__c],a=t(F++,9);return a.c=r,b?(a.__==null&&(a.__=!0,b.sub(w)),b.props.value):r.__}function gb(){for(var r;r=er.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(j),r.__H.__h.forEach(Ir),r.__H.__h=[]}catch(b){r.__H.__h=[],T.__e(b,r.__v)}}T.__b=function(r){w=null,Br&&Br(r)},T.__=function(r,b){r&&b.__k&&b.__k.__m&&(r.__m=b.__k.__m),Ur&&Ur(r,b)},T.__r=function(r){$r&&$r(r),F=0;var b=(w=r.__c).__H;b&&(mr===w?(b.__h=[],w.__h=[],b.__.forEach(function(a){a.__N&&(a.__=a.__N),a.u=a.__N=void 0})):(b.__h.forEach(j),b.__h.forEach(Ir),b.__h=[],F=0)),mr=w},T.diffed=function(r){Hr&&Hr(r);var b=r.__c;b&&b.__H&&(b.__H.__h.length&&(er.push(b)!==1&&xr===T.requestAnimationFrame||((xr=T.requestAnimationFrame)||vb)(gb)),b.__H.__.forEach(function(a){a.u&&(a.__H=a.u),a.u=void 0})),mr=w=null},T.__c=function(r,b){b.some(function(a){try{a.__h.forEach(j),a.__h=a.__h.filter(function(o){return!o.__||Ir(o)})}catch(o){b.some(function(v){v.__h&&(v.__h=[])}),b=[],T.__e(o,a.__v)}}),Lr&&Lr(r,b)},T.unmount=function(r){Fr&&Fr(r);var b,a=r.__c;a&&a.__H&&(a.__H.__.forEach(function(o){try{j(o)}catch(v){b=v}}),a.__H=void 0,b&&T.__e(b,a.__v))};var Kr=typeof requestAnimationFrame=="function";function vb(r){var b,a=function(){clearTimeout(o),Kr&&cancelAnimationFrame(b),setTimeout(r)},o=setTimeout(a,35);Kr&&(b=requestAnimationFrame(a))}function j(r){var b=w,a=r.__c;typeof a=="function"&&(r.__c=void 0,a()),w=b}function Ir(r){var b=w;r.__c=r.__(),w=b}function Mr(r,b){return!r||r.length!==b.length||b.some(function(a,o){return a!==r[o]})}function Sr(r,b){return typeof b=="function"?b(r):b}var pr={ko:{"comments.title":"댓글","form.name":"이름","form.password":"비밀번호","form.content":"댓글을 입력하세요...","form.submit":"댓글 작성","form.cancel":"취소","form.reply":"답글 작성","form.submitting":"작성 중...","form.error":"댓글 작성에 실패했습니다. 다시 시도해주세요.","comment.reply":"답글","comment.edit":"수정","comment.delete":"삭제","comment.deleted":"삭제된 댓글입니다.","comment.editing":"수정 중...","comment.deleting":"삭제 중...","edit.title":"댓글 수정","edit.placeholder.content":"댓글 내용을 입력하세요...","edit.placeholder.password":"비밀번호","edit.submit":"수정","edit.cancel":"취소","edit.error.required":"내용과 비밀번호를 입력해주세요.","edit.error.failed":"수정에 실패했습니다.","delete.title":"댓글 삭제","delete.message":"정말 삭제하시겠습니까?","delete.placeholder.password":"비밀번호","delete.submit":"삭제","delete.cancel":"취소","delete.error.required":"비밀번호를 입력해주세요.","delete.error.failed":"삭제에 실패했습니다.","time.justNow":"방금 전","time.minutesAgo":"{minutes}분 전","time.hoursAgo":"{hours}시간 전","time.daysAgo":"{days}일 전","time.edited":"수정됨",loading:"댓글을 불러오는 중...",empty:"첫 댓글을 작성해보세요!","error.title":"오류","error.close":"닫기","error.MISSING_API_KEY":"API 키가 필요합니다.","error.INVALID_API_KEY":"유효하지 않은 API 키입니다.","error.SITE_INACTIVE":"비활성화된 사이트입니다.","error.INVALID_ORIGIN":"허용되지 않은 도메인입니다.","error.INVALID_INPUT":"입력값이 올바르지 않습니다.","error.POST_NOT_FOUND":"게시글을 찾을 수 없습니다.","error.COMMENT_NOT_FOUND":"댓글을 찾을 수 없습니다.","error.WRONG_PASSWORD":"비밀번호가 일치하지 않습니다.","error.EDIT_TIME_EXPIRED":"댓글은 작성 후 30분 이내에만 수정/삭제할 수 있습니다.","error.RATE_LIMIT_EXCEEDED":"너무 많은 요청을 보냈습니다. 잠시 후 다시 시도해주세요.","error.INTERNAL_SERVER_ERROR":"서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.","error.UNKNOWN_ERROR":"알 수 없는 오류가 발생했습니다.","error.NETWORK_ERROR":"네트워크 연결을 확인해주세요."},en:{"comments.title":"Comments","form.name":"Name","form.password":"Password","form.content":"Write a comment...","form.submit":"Submit","form.cancel":"Cancel","form.reply":"Reply","form.submitting":"Submitting...","form.error":"Failed to submit comment. Please try again.","comment.reply":"Reply","comment.edit":"Edit","comment.delete":"Delete","comment.deleted":"This comment has been deleted.","comment.editing":"Editing...","comment.deleting":"Deleting...","edit.title":"Edit Comment","edit.placeholder.content":"Write your comment...","edit.placeholder.password":"Password","edit.submit":"Update","edit.cancel":"Cancel","edit.error.required":"Please enter content and password.","edit.error.failed":"Failed to update comment.","delete.title":"Delete Comment","delete.message":"Are you sure you want to delete this comment?","delete.placeholder.password":"Password","delete.submit":"Delete","delete.cancel":"Cancel","delete.error.required":"Please enter password.","delete.error.failed":"Failed to delete comment.","time.justNow":"Just now","time.minutesAgo":"{minutes}m ago","time.hoursAgo":"{hours}h ago","time.daysAgo":"{days}d ago","time.edited":"edited",loading:"Loading comments...",empty:"Be the first to comment!","error.title":"Error","error.close":"Close","error.MISSING_API_KEY":"API key is required.","error.INVALID_API_KEY":"Invalid API key.","error.SITE_INACTIVE":"Site is inactive.","error.INVALID_ORIGIN":"Origin not allowed.","error.INVALID_INPUT":"Invalid input.","error.POST_NOT_FOUND":"Post not found.","error.COMMENT_NOT_FOUND":"Comment not found.","error.WRONG_PASSWORD":"Wrong password.","error.EDIT_TIME_EXPIRED":"Comments can only be edited or deleted within 30 minutes.","error.RATE_LIMIT_EXCEEDED":"Too many requests. Please try again later.","error.INTERNAL_SERVER_ERROR":"Server error occurred. Please try again later.","error.UNKNOWN_ERROR":"Unknown error occurred.","error.NETWORK_ERROR":"Please check your network connection."}};var cb=0;function p(r,b,a,o,v,d){b||(b={});var c,f,I=b;if("ref"in I)for(f in I={},b)f=="ref"?c=b[f]:I[f]=b[f];var i={type:r,props:I,key:a,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--cb,__i:-1,__u:0,__source:v,__self:d};if(typeof r=="function"&&(c=r.defaultProps))for(f in c)I[f]===void 0&&(I[f]=c[f]);return R.vnode&&R.vnode(i),i}var Vr=Qr(null);function Er({locale:r,children:b}){let a=B(()=>{return{locale:r,t:(v)=>{return pr[r][v]||pr.ko[v]||v}}},[r]);return p(Vr.Provider,{value:a,children:b},void 0,!1,void 0,this)}function q(){let r=Cr(Vr);if(!r)throw Error("useI18n must be used within I18nProvider");return r}function Z({label:r,onClick:b,size:a="normal",variant:o="filled",type:v="primary",htmlType:d="button",disabled:c=!1,className:f=""}){let i=`orb-btn-${a}`,N=`orb-btn-${o}`,g=`orb-btn-${v}`,m=["orb-btn",i,N,g,f].filter(Boolean).join(" ");return p("button",{type:d,className:m,onClick:b,disabled:c,children:r},void 0,!1,void 0,this)}function ib(r){return`error.${r}`}function U(r,b){if(!r||!r.error)return b("error.UNKNOWN_ERROR");let{code:a,message:o,details:v}=r.error;if(a){let d=ib(a),c=b(d);if(c!==d)return c}if(a==="INVALID_INPUT"&&v){let d=Object.entries(v).map(([c,f])=>`${c}: ${f.join(", ")}`).join(`
`);return`${b("error.INVALID_INPUT")}:
${d}`}if(o)return o;return b("error.UNKNOWN_ERROR")}function C({onSubmit:r,parentId:b=null,onCancel:a=null,editMode:o=!1,initialContent:v="",onError:d=null}){let[c,f]=W(""),[I,i]=W(""),[N,g]=W(v),[m,y]=W(!1),{t:_}=q(),P=o?N.trim()&&I.trim():c.trim()&&N.trim()&&I.trim();return p("form",{className:o?"orb-edit-form":"orb-comment-form",onSubmit:async(z)=>{if(z.preventDefault(),!o&&!c.trim()){if(d)d(_("error.INVALID_INPUT"));return}if(!N.trim()||!I.trim()){if(d)d(_("error.INVALID_INPUT"));return}if(y(!0),d)d(null);try{if(await r({authorName:c.trim(),password:I,content:N.trim(),parentId:b}),!o)f(""),i(""),g("")}catch(O){if(d)if(O.response){let A=O.response;d(U(A,_))}else d(O.message||_("form.error"))}finally{y(!1)}},children:[!o&&p("input",{type:"text",placeholder:_("form.name"),value:c,onInput:(z)=>f(z.target.value),disabled:m,className:"orb-input"},void 0,!1,void 0,this),p("textarea",{placeholder:o?_("edit.placeholder.content"):_("form.content"),value:N,onInput:(z)=>g(z.target.value),disabled:m,className:"orb-textarea",rows:4},void 0,!1,void 0,this),p("div",{className:"orb-form-actions",children:[p("input",{type:"password",placeholder:_("form.password"),value:I,onInput:(z)=>i(z.target.value),disabled:m,className:"orb-input orb-form-password"},void 0,!1,void 0,this),a&&p(Z,{label:o?_("edit.cancel"):_("form.cancel"),type:"cancel",onClick:a,disabled:m},void 0,!1,void 0,this),p(Z,{label:m?o?_("comment.editing"):_("form.submitting"):o?_("edit.submit"):b?_("form.reply"):_("form.submit"),type:"primary",htmlType:"submit",disabled:m||!P},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}function Dr({comment:r,onDelete:b,onError:a,resetTrigger:o}){let[v,d]=W(!1),[c,f]=W(""),[I,i]=W(!1),{t:N}=q();u(()=>{if(o>0)d(!1),f(""),a(null)},[o]);let g=async()=>{if(!v){d(!0),a(null);return}if(!c){a(N("delete.error.required"));return}i(!0);try{await b(r.id,c),d(!1),f(""),a(null)}catch(m){if(m.response){let y=m.response;a(U(y,N))}else a(N("delete.error.failed"))}finally{i(!1)}};return p("div",{className:"orb-delete-actions",children:[v&&p(Y,{children:[p("input",{type:"password",className:"orb-input orb-delete-password-input",placeholder:N("delete.placeholder.password"),value:c,onInput:(m)=>f(m.target.value),disabled:I,autoFocus:!0},void 0,!1,void 0,this),p(Z,{label:N("delete.cancel"),variant:"clear",type:"cancel",size:"small",onClick:()=>d(!1),disabled:I},void 0,!1,void 0,this)]},void 0,!0,void 0,this),p(Z,{label:I?N("comment.deleting"):N("comment.delete"),variant:"clear",type:"danger",size:"small",onClick:g,disabled:I},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}function lr({error:r,onClose:b}){let{t:a}=q();return p("div",{className:"orb-error-overlay",children:[p("div",{className:"orb-error-backdrop",onClick:b},void 0,!1,void 0,this),p("div",{className:"orb-error-container",children:[p("div",{className:"orb-error-content",children:r},void 0,!1,void 0,this),p("button",{className:"orb-error-close",onClick:b,"aria-label":a("error.close"),children:"×"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}function n({comment:r,allComments:b,onReply:a,onUpdate:o,onDelete:v}){let[d,c]=W(!1),[f,I]=W(!1),[i,N]=W(null),[g,m]=W(0),{t:y}=q(),_=B(()=>r.replies||[],[r.replies]),P=B(()=>{let A=new Date(r.createdAt);return(new Date().getTime()-A.getTime())/60000<=30},[r.createdAt]),k=(A)=>{let s=new Date(A),X=new Date().getTime()-s.getTime();if(X<60000)return y("time.justNow");if(X<3600000){let Q=Math.floor(X/60000);return y("time.minutesAgo").replace("{minutes}",String(Q))}if(X<86400000){let Q=Math.floor(X/3600000);return y("time.hoursAgo").replace("{hours}",String(Q))}if(X<604800000){let Q=Math.floor(X/86400000);return y("time.daysAgo").replace("{days}",String(Q))}return s.toLocaleDateString()},z=async(A)=>{await a(A),c(!1)},O=async(A)=>{await o(r.id,A.content,A.password),I(!1),N(null)};if(r.isDeleted)return p("div",{className:"orb-comment orb-comment-deleted",children:[p("div",{className:"orb-comment-content",children:y("comment.deleted")},void 0,!1,void 0,this),_.length>0&&p("div",{className:"orb-replies",children:_.map((A)=>p(n,{comment:A,allComments:b,onReply:a,onUpdate:o,onDelete:v},A.id,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this);return p("div",{className:"orb-comment",children:[i&&p(lr,{error:i,onClose:()=>N(null)},void 0,!1,void 0,this),p("div",{className:"orb-comment-header",children:[p("div",{children:[p("span",{className:"orb-comment-author",children:r.authorName},void 0,!1,void 0,this),p("span",{className:"orb-comment-date",children:[k(r.createdAt),r.updatedAt!==r.createdAt&&p("span",{className:"orb-comment-edited",children:[" ","(",k(r.updatedAt)," ",y("time.edited"),")"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),P&&p(Dr,{comment:r,onDelete:v,onError:N,resetTrigger:g},void 0,!1,void 0,this)]},void 0,!0,void 0,this),f?p(C,{editMode:!0,initialContent:r.content,onSubmit:O,onCancel:()=>{I(!1),N(null)},onError:N},void 0,!1,void 0,this):p(Y,{children:[p("div",{className:"orb-comment-content",children:r.content},void 0,!1,void 0,this),p("div",{className:"orb-comment-actions",children:[!r.parentId&&p(Z,{label:d?y("form.cancel"):y("comment.reply"),variant:"clear",type:"primary",size:"small",onClick:()=>c(!d)},void 0,!1,void 0,this),P&&p(Z,{label:y("comment.edit"),variant:"clear",type:"secondary",size:"small",onClick:()=>{I(!0),m((A)=>A+1)}},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),(d||_.length>0)&&p("div",{className:"orb-replies",children:[d&&p("div",{className:"orb-reply-form",children:p(C,{parentId:r.id,onSubmit:z,onCancel:()=>c(!1)},void 0,!1,void 0,this)},void 0,!1,void 0,this),_.map((A)=>p(n,{comment:A,allComments:b,onReply:a,onUpdate:o,onDelete:v},A.id,!1,void 0,this))]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}function hr({comments:r,onReply:b,onUpdate:a,onDelete:o}){let{t:v}=q(),d=r.filter((c)=>!c.parentId);if(d.length===0)return p("div",{className:"orb-empty",children:v("empty")},void 0,!1,void 0,this);return p("div",{className:"orb-comment-list",children:d.map((c)=>p(n,{comment:c,allComments:r,onReply:b,onUpdate:a,onDelete:o},c.id,!1,void 0,this))},void 0,!1,void 0,this)}function fb(r){return r.replace(/[A-Z]/g,(b)=>`_${b.toLowerCase()}`)}function Nb(r){return r.replace(/_([a-z])/g,(b,a)=>a.toUpperCase())}function rr(r){if(r===null||r===void 0)return r;if(Array.isArray(r))return r.map((a)=>rr(a));if(typeof r!=="object")return r;let b={};for(let a in r)if(r.hasOwnProperty(a)){let o=fb(a);b[o]=rr(r[a])}return b}function br(r){if(r===null||r===void 0)return r;if(Array.isArray(r))return r.map((a)=>br(a));if(typeof r!=="object")return r;let b={};for(let a in r)if(r.hasOwnProperty(a)){let o=Nb(a);b[o]=br(r[a])}return b}class _r{apiUrl;apiKey;constructor(r,b){this.apiUrl=r,this.apiKey=b}async request(r,b={}){let a=`${this.apiUrl}${r}`,o={...b,body:b.body?JSON.stringify(rr(b.body)):void 0},v=await fetch(a,{...o,headers:{"Content-Type":"application/json","X-Orbithall-API-Key":this.apiKey,...b.headers}});if(!v.ok){let c=await v.json(),f=Error("API Error");throw f.response=c,f}if(v.status===204)return null;let d=await v.json();return br(d)}async getComments(r,b=1,a=50){return this.request(`/posts/${r}/comments?page=${b}&limit=${a}`)}async createComment(r,b){return this.request(`/posts/${r}/comments`,{method:"POST",body:b})}async updateComment(r,b,a){return this.request(`/comments/${r}`,{method:"PUT",body:{content:b,password:a}})}async deleteComment(r,b){await this.request(`/comments/${r}`,{method:"DELETE",body:{password:b}})}}function jr({apiUrl:r,apiKey:b,postSlug:a}){let[o,v]=W([]),[d,c]=W(!0),[f,I]=W(null),{t:i}=q(),N=B(()=>new _r(r,b),[r,b]),g=async()=>{try{c(!0);let P=await N.getComments(a);v(P.comments||[]),I(null)}catch(P){if(console.error("OrbitHall: Failed to load comments",P),P instanceof Error&&P.response){let k=P.response;I(U(k,i))}else I(i("error.NETWORK_ERROR"))}finally{c(!1)}};u(()=>{g()},[a]);let m=async(P)=>{try{await N.createComment(a,P),await g()}catch(k){throw console.error("OrbitHall: Failed to submit comment",k),k}},y=async(P,k,z)=>{try{await N.updateComment(P,k,z),await g()}catch(O){throw console.error("OrbitHall: Failed to update comment",O),O}},_=async(P,k)=>{try{await N.deleteComment(P,k),await g()}catch(z){throw console.error("OrbitHall: Failed to delete comment",z),z}};return p("div",{className:"orb-widget",children:[p("div",{className:"orb-header",children:p("h3",{children:i("comments.title")},void 0,!1,void 0,this)},void 0,!1,void 0,this),p(C,{onSubmit:m},void 0,!1,void 0,this),d&&p("div",{className:"orb-loading",children:i("loading")},void 0,!1,void 0,this),f&&p("div",{className:"orb-error",children:f},void 0,!1,void 0,this),!d&&!f&&o.length===0&&p("div",{className:"orb-empty",children:i("empty")},void 0,!1,void 0,this),!d&&!f&&o.length>0&&p(hr,{comments:o,onReply:m,onUpdate:y,onDelete:_},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}(function(){let b=new Map,a="",o="ko",v=null,d=!1;function c(N){let g=N.getAttribute("data-widget-type")||"widget",m=N.getAttribute("data-post-slug")||"",y=Date.now(),_=Math.random().toString(36).substring(2,7),P=`${g}-${m}-${y}`,k=btoa(P).replace(/[^a-zA-Z0-9]/g,"").substring(0,8);return`orb-${g}-${k}-${_}`}function f(N,g,m,y){let _=N.getAttribute("data-widget-type"),P=N.getAttribute("data-post-slug");if(!P){console.error("OrbitHall: data-post-slug attribute is required");return}switch(_){case"comments":Zr(p(Er,{locale:y,children:p(jr,{apiUrl:g,apiKey:m,postSlug:P},void 0,!1,void 0,this)},void 0,!1,void 0,this),N);break;case"reactions":console.warn("OrbitHall: reactions widget not implemented yet");break;default:console.error(`OrbitHall: Unknown widget type "${_}"`)}}function I(N,g,m,y){let _=N.getAttribute("data-orb-id");if(_&&b.has(_))return;if(!_)_=c(N),N.setAttribute("data-orb-id",_),N.setAttribute("data-orb-initialized","true");f(N,g,m,y);let P=new MutationObserver((k)=>{k.forEach((z)=>{if(z.type==="attributes"&&z.attributeName==="data-post-slug")f(N,g,m,y)})});P.observe(N,{attributes:!0}),b.set(_,P)}function i(){if(v)return;v=new MutationObserver((N)=>{N.forEach((g)=>{g.addedNodes.forEach((m)=>{if(m instanceof HTMLElement){if(m.hasAttribute("data-orb-container"))I(m,"https://orbithall.onrender.com/api",a,o);m.querySelectorAll("[data-orb-container]").forEach((_)=>{if(_ instanceof HTMLElement)I(_,"https://orbithall.onrender.com/api",a,o)})}})})}),v.observe(document.body,{childList:!0,subtree:!0})}window.OrbitHall={init:function(N){if(d){console.warn("OrbitHall: already initialized");return}if(!N.apiKey){console.error("OrbitHall: apiKey is required");return}a=N.apiKey,o=N.locale||"ko",document.querySelectorAll("[data-orb-container]").forEach((m)=>{if(m instanceof HTMLElement)I(m,"https://orbithall.onrender.com/api",a,o)}),i(),d=!0},destroy:function(){if(b.forEach((N)=>N.disconnect()),b.clear(),v)v.disconnect(),v=null;d=!1}}})();})();
