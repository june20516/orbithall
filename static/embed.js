(()=>{var D,s,Pr,tr,Q,zr,sr,kr,Ar,cr,or,dr,Rr,K={},wr=[],ur=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function Y(r,b){for(var a in b)r[a]=b[a];return r}function vr(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function nr(r,b,a){var o,c,d,i={};for(d in b)d=="key"?o=b[d]:d=="ref"?c=b[d]:i[d]=b[d];if(arguments.length>2&&(i.children=arguments.length>3?D.call(arguments,2):a),typeof r=="function"&&r.defaultProps!=null)for(d in r.defaultProps)i[d]===void 0&&(i[d]=r.defaultProps[d]);return V(r,i,o,c,null)}function V(r,b,a,o,c){var d={type:r,props:b,key:a,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:c==null?++Pr:c,__i:-1,__u:0};return c==null&&s.vnode!=null&&s.vnode(d),d}function G(r){return r.children}function l(r,b){this.props=r,this.context=b}function $(r,b){if(b==null)return r.__?$(r.__,r.__i+1):null;for(var a;b<r.__k.length;b++)if((a=r.__k[b])!=null&&a.__e!=null)return a.__e;return typeof r.type=="function"?$(r):null}function Tr(r){var b,a;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,b=0;b<r.__k.length;b++)if((a=r.__k[b])!=null&&a.__e!=null){r.__e=r.__c.base=a.__e;break}return Tr(r)}}function gr(r){(!r.__d&&(r.__d=!0)&&Q.push(r)&&!E.__r++||zr!=s.debounceRendering)&&((zr=s.debounceRendering)||sr)(E)}function E(){for(var r,b,a,o,c,d,i,f=1;Q.length;)Q.length>f&&Q.sort(kr),r=Q.shift(),f=Q.length,r.__d&&(a=void 0,o=void 0,c=(o=(b=r).__v).__e,d=[],i=[],b.__P&&((a=Y({},o)).__v=o.__v+1,s.vnode&&s.vnode(a),fr(b.__P,a,o,b.__n,b.__P.namespaceURI,32&o.__u?[c]:null,d,c==null?$(o):c,!!(32&o.__u),i),a.__v=o.__v,a.__.__k[a.__i]=a,qr(d,a,i),o.__e=o.__=null,a.__e!=c&&Tr(a)));E.__r=0}function Wr(r,b,a,o,c,d,i,f,N,v,m){var g,e,y,p,P,_,z,O=o&&o.__k||wr,k=b.length;for(N=rb(a,b,O,N,k),g=0;g<k;g++)(y=a.__k[g])!=null&&(e=y.__i==-1?K:O[y.__i]||K,y.__i=g,_=fr(r,y,e,c,d,i,f,N,v,m),p=y.__e,y.ref&&e.ref!=y.ref&&(e.ref&&mr(e.ref,null,y),m.push(y.ref,y.__c||p,y)),P==null&&p!=null&&(P=p),(z=!!(4&y.__u))||e.__k===y.__k?N=Xr(y,N,r,z):typeof y.type=="function"&&_!==void 0?N=_:p&&(N=p.nextSibling),y.__u&=-7);return a.__e=P,N}function rb(r,b,a,o,c){var d,i,f,N,v,m=a.length,g=m,e=0;for(r.__k=Array(c),d=0;d<c;d++)(i=b[d])!=null&&typeof i!="boolean"&&typeof i!="function"?(N=d+e,(i=r.__k[d]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?V(null,i,null,null,null):h(i)?V(G,{children:i},null,null,null):i.constructor==null&&i.__b>0?V(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=r,i.__b=r.__b+1,f=null,(v=i.__i=bb(i,a,N,g))!=-1&&(g--,(f=a[v])&&(f.__u|=2)),f==null||f.__v==null?(v==-1&&(c>m?e--:c<m&&e++),typeof i.type!="function"&&(i.__u|=4)):v!=N&&(v==N-1?e--:v==N+1?e++:(v>N?e--:e++,i.__u|=4))):r.__k[d]=null;if(g)for(d=0;d<m;d++)(f=a[d])!=null&&(2&f.__u)==0&&(f.__e==o&&(o=$(f)),Yr(f,f));return o}function Xr(r,b,a,o){var c,d;if(typeof r.type=="function"){for(c=r.__k,d=0;c&&d<c.length;d++)c[d]&&(c[d].__=r,b=Xr(c[d],b,a,o));return b}r.__e!=b&&(o&&(b&&r.type&&!b.parentNode&&(b=$(r)),a.insertBefore(r.__e,b||null)),b=r.__e);do b=b&&b.nextSibling;while(b!=null&&b.nodeType==8);return b}function bb(r,b,a,o){var c,d,i,f=r.key,N=r.type,v=b[a],m=v!=null&&(2&v.__u)==0;if(v===null&&r.key==null||m&&f==v.key&&N==v.type)return a;if(o>(m?1:0)){for(c=a-1,d=a+1;c>=0||d<b.length;)if((v=b[i=c>=0?c--:d++])!=null&&(2&v.__u)==0&&f==v.key&&N==v.type)return i}return-1}function Or(r,b,a){b[0]=="-"?r.setProperty(b,a==null?"":a):r[b]=a==null?"":typeof a!="number"||ur.test(b)?a:a+"px"}function S(r,b,a,o,c){var d,i;r:if(b=="style")if(typeof a=="string")r.style.cssText=a;else{if(typeof o=="string"&&(r.style.cssText=o=""),o)for(b in o)a&&b in a||Or(r.style,b,"");if(a)for(b in a)o&&a[b]==o[b]||Or(r.style,b,a[b])}else if(b[0]=="o"&&b[1]=="n")d=b!=(b=b.replace(Ar,"$1")),i=b.toLowerCase(),b=i in r||b=="onFocusOut"||b=="onFocusIn"?i.slice(2):b.slice(2),r.l||(r.l={}),r.l[b+d]=a,a?o?a.u=o.u:(a.u=cr,r.addEventListener(b,d?dr:or,d)):r.removeEventListener(b,d?dr:or,d);else{if(c=="http://www.w3.org/2000/svg")b=b.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(b!="width"&&b!="height"&&b!="href"&&b!="list"&&b!="form"&&b!="tabIndex"&&b!="download"&&b!="rowSpan"&&b!="colSpan"&&b!="role"&&b!="popover"&&b in r)try{r[b]=a==null?"":a;break r}catch(f){}typeof a=="function"||(a==null||a===!1&&b[4]!="-"?r.removeAttribute(b):r.setAttribute(b,b=="popover"&&a==1?"":a))}}function _r(r){return function(b){if(this.l){var a=this.l[b.type+r];if(b.t==null)b.t=cr++;else if(b.t<a.u)return;return a(s.event?s.event(b):b)}}}function fr(r,b,a,o,c,d,i,f,N,v){var m,g,e,y,p,P,_,z,O,k,W,x,T,Z,M,U,ar,q=b.type;if(b.constructor!=null)return null;128&a.__u&&(N=!!(32&a.__u),d=[f=b.__e=a.__e]),(m=s.__b)&&m(b);r:if(typeof q=="function")try{if(z=b.props,O="prototype"in q&&q.prototype.render,k=(m=q.contextType)&&o[m.__c],W=m?k?k.props.value:m.__:o,a.__c?_=(g=b.__c=a.__c).__=g.__E:(O?b.__c=g=new q(z,W):(b.__c=g=new l(z,W),g.constructor=q,g.render=ob),k&&k.sub(g),g.props=z,g.state||(g.state={}),g.context=W,g.__n=o,e=g.__d=!0,g.__h=[],g._sb=[]),O&&g.__s==null&&(g.__s=g.state),O&&q.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=Y({},g.__s)),Y(g.__s,q.getDerivedStateFromProps(z,g.__s))),y=g.props,p=g.state,g.__v=b,e)O&&q.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),O&&g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(O&&q.getDerivedStateFromProps==null&&z!==y&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(z,W),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(z,g.__s,W)===!1||b.__v==a.__v){for(b.__v!=a.__v&&(g.props=z,g.state=g.__s,g.__d=!1),b.__e=a.__e,b.__k=a.__k,b.__k.some(function(B){B&&(B.__=b)}),x=0;x<g._sb.length;x++)g.__h.push(g._sb[x]);g._sb=[],g.__h.length&&i.push(g);break r}g.componentWillUpdate!=null&&g.componentWillUpdate(z,g.__s,W),O&&g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(y,p,P)})}if(g.context=W,g.props=z,g.__P=r,g.__e=!1,T=s.__r,Z=0,O){for(g.state=g.__s,g.__d=!1,T&&T(b),m=g.render(g.props,g.state,g.context),M=0;M<g._sb.length;M++)g.__h.push(g._sb[M]);g._sb=[]}else do g.__d=!1,T&&T(b),m=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++Z<25);g.state=g.__s,g.getChildContext!=null&&(o=Y(Y({},o),g.getChildContext())),O&&!e&&g.getSnapshotBeforeUpdate!=null&&(P=g.getSnapshotBeforeUpdate(y,p)),U=m,m!=null&&m.type===G&&m.key==null&&(U=Gr(m.props.children)),f=Wr(r,h(U)?U:[U],b,a,o,c,d,i,f,N,v),g.base=b.__e,b.__u&=-161,g.__h.length&&i.push(g),_&&(g.__E=g.__=null)}catch(B){if(b.__v=null,N||d!=null)if(B.then){for(b.__u|=N?160:128;f&&f.nodeType==8&&f.nextSibling;)f=f.nextSibling;d[d.indexOf(f)]=null,b.__e=f}else{for(ar=d.length;ar--;)vr(d[ar]);ir(b)}else b.__e=a.__e,b.__k=a.__k,B.then||ir(b);s.__e(B,b,a)}else d==null&&b.__v==a.__v?(b.__k=a.__k,b.__e=a.__e):f=b.__e=ab(a.__e,b,a,o,c,d,i,N,v);return(m=s.diffed)&&m(b),128&b.__u?void 0:f}function ir(r){r&&r.__c&&(r.__c.__e=!0),r&&r.__k&&r.__k.forEach(ir)}function qr(r,b,a){for(var o=0;o<a.length;o++)mr(a[o],a[++o],a[++o]);s.__c&&s.__c(b,r),r.some(function(c){try{r=c.__h,c.__h=[],r.some(function(d){d.call(c)})}catch(d){s.__e(d,c.__v)}})}function Gr(r){return typeof r!="object"||r==null||r.__b&&r.__b>0?r:h(r)?r.map(Gr):Y({},r)}function ab(r,b,a,o,c,d,i,f,N){var v,m,g,e,y,p,P,_=a.props,z=b.props,O=b.type;if(O=="svg"?c="http://www.w3.org/2000/svg":O=="math"?c="http://www.w3.org/1998/Math/MathML":c||(c="http://www.w3.org/1999/xhtml"),d!=null){for(v=0;v<d.length;v++)if((y=d[v])&&"setAttribute"in y==!!O&&(O?y.localName==O:y.nodeType==3)){r=y,d[v]=null;break}}if(r==null){if(O==null)return document.createTextNode(z);r=document.createElementNS(c,O,z.is&&z),f&&(s.__m&&s.__m(b,d),f=!1),d=null}if(O==null)_===z||f&&r.data==z||(r.data=z);else{if(d=d&&D.call(r.childNodes),_=a.props||K,!f&&d!=null)for(_={},v=0;v<r.attributes.length;v++)_[(y=r.attributes[v]).name]=y.value;for(v in _)if(y=_[v],v=="children");else if(v=="dangerouslySetInnerHTML")g=y;else if(!(v in z)){if(v=="value"&&"defaultValue"in z||v=="checked"&&"defaultChecked"in z)continue;S(r,v,null,y,c)}for(v in z)y=z[v],v=="children"?e=y:v=="dangerouslySetInnerHTML"?m=y:v=="value"?p=y:v=="checked"?P=y:f&&typeof y!="function"||_[v]===y||S(r,v,y,_[v],c);if(m)f||g&&(m.__html==g.__html||m.__html==r.innerHTML)||(r.innerHTML=m.__html),b.__k=[];else if(g&&(r.innerHTML=""),Wr(b.type=="template"?r.content:r,h(e)?e:[e],b,a,o,O=="foreignObject"?"http://www.w3.org/1999/xhtml":c,d,i,d?d[0]:a.__k&&$(a,0),f,N),d!=null)for(v=d.length;v--;)vr(d[v]);f||(v="value",O=="progress"&&p==null?r.removeAttribute("value"):p!=null&&(p!==r[v]||O=="progress"&&!p||O=="option"&&p!=_[v])&&S(r,v,p,_[v],c),v="checked",P!=null&&P!=r[v]&&S(r,v,P,_[v],c))}return r}function mr(r,b,a){try{if(typeof r=="function"){var o=typeof r.__u=="function";o&&r.__u(),o&&b==null||(r.__u=r(b))}else r.current=b}catch(c){s.__e(c,a)}}function Yr(r,b,a){var o,c;if(s.unmount&&s.unmount(r),(o=r.ref)&&(o.current&&o.current!=r.__e||mr(o,null,b)),(o=r.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(d){s.__e(d,b)}o.base=o.__P=null}if(o=r.__k)for(c=0;c<o.length;c++)o[c]&&Yr(o[c],b,a||typeof r.type!="function");a||vr(r.__e),r.__c=r.__=r.__e=void 0}function ob(r,b,a){return this.constructor(r,a)}function Jr(r,b,a){var o,c,d,i;b==document&&(b=document.documentElement),s.__&&s.__(r,b),c=(o=typeof a=="function")?null:a&&a.__k||b.__k,d=[],i=[],fr(b,r=(!o&&a||b).__k=nr(G,null,[r]),c||K,K,b.namespaceURI,!o&&a?[a]:c?null:b.firstChild?D.call(b.childNodes):null,d,!o&&a?a:c?c.__e:b.firstChild,o,i),qr(d,r,i)}function Zr(r){function b(a){var o,c;return this.getChildContext||(o=new Set,(c={})[b.__c]=this,this.getChildContext=function(){return c},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(d){this.props.value!=d.value&&o.forEach(function(i){i.__e=!0,gr(i)})},this.sub=function(d){o.add(d);var i=d.componentWillUnmount;d.componentWillUnmount=function(){o&&o.delete(d),i&&i.call(d)}}),a.children}return b.__c="__cC"+Rr++,b.__=r,b.Provider=b.__l=(b.Consumer=function(a,o){return a.children(o)}).contextType=b,b}D=wr.slice,s={__e:function(r,b,a,o){for(var c,d,i;b=b.__;)if((c=b.__c)&&!c.__)try{if((d=c.constructor)&&d.getDerivedStateFromError!=null&&(c.setState(d.getDerivedStateFromError(r)),i=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(r,o||{}),i=c.__d),i)return c.__E=c}catch(f){r=f}throw r}},Pr=0,tr=function(r){return r!=null&&r.constructor==null},l.prototype.setState=function(r,b){var a;a=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Y({},this.state),typeof r=="function"&&(r=r(Y({},a),this.props)),r&&Y(a,r),r!=null&&this.__v&&(b&&this._sb.push(b),gr(this))},l.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),gr(this))},l.prototype.render=G,Q=[],sr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,kr=function(r,b){return r.__v.__b-b.__v.__b},E.__r=0,Ar=/(PointerCapture)$|Capture$/i,cr=0,or=_r(!1),dr=_r(!0),Rr=0;var F,A,Nr,Qr,yr=0,Kr=[],R=s,Lr=R.__b,xr=R.__r,Br=R.diffed,$r=R.__c,Fr=R.unmount,Hr=R.__;function t(r,b){R.__h&&R.__h(A,r,yr||b),yr=0;var a=A.__H||(A.__H={__:[],__h:[]});return r>=a.__.length&&a.__.push({}),a.__[r]}function w(r){return yr=1,db(Sr,r)}function db(r,b,a){var o=t(F++,2);if(o.t=r,!o.__c&&(o.__=[a?a(b):Sr(void 0,b),function(f){var N=o.__N?o.__N[0]:o.__[0],v=o.t(N,f);N!==v&&(o.__N=[v,o.__[1]],o.__c.setState({}))}],o.__c=A,!A.__f)){var c=function(f,N,v){if(!o.__c.__H)return!0;var m=o.__c.__H.__.filter(function(e){return!!e.__c});if(m.every(function(e){return!e.__N}))return!d||d.call(this,f,N,v);var g=o.__c.props!==f;return m.forEach(function(e){if(e.__N){var y=e.__[0];e.__=e.__N,e.__N=void 0,y!==e.__[0]&&(g=!0)}}),d&&d.call(this,f,N,v)||g};A.__f=!0;var{shouldComponentUpdate:d,componentWillUpdate:i}=A;A.componentWillUpdate=function(f,N,v){if(this.__e){var m=d;d=void 0,c(f,N,v),d=m}i&&i.call(this,f,N,v)},A.shouldComponentUpdate=c}return o.__N||o.__}function u(r,b){var a=t(F++,3);!R.__s&&Mr(a.__H,b)&&(a.__=r,a.u=b,A.__H.__h.push(a))}function L(r,b){var a=t(F++,7);return Mr(a.__H,b)&&(a.__=r(),a.__H=b,a.__h=r),a.__}function Cr(r){var b=A.context[r.__c],a=t(F++,9);return a.c=r,b?(a.__==null&&(a.__=!0,b.sub(A)),b.props.value):r.__}function gb(){for(var r;r=Kr.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(j),r.__H.__h.forEach(Ir),r.__H.__h=[]}catch(b){r.__H.__h=[],R.__e(b,r.__v)}}R.__b=function(r){A=null,Lr&&Lr(r)},R.__=function(r,b){r&&b.__k&&b.__k.__m&&(r.__m=b.__k.__m),Hr&&Hr(r,b)},R.__r=function(r){xr&&xr(r),F=0;var b=(A=r.__c).__H;b&&(Nr===A?(b.__h=[],A.__h=[],b.__.forEach(function(a){a.__N&&(a.__=a.__N),a.u=a.__N=void 0})):(b.__h.forEach(j),b.__h.forEach(Ir),b.__h=[],F=0)),Nr=A},R.diffed=function(r){Br&&Br(r);var b=r.__c;b&&b.__H&&(b.__H.__h.length&&(Kr.push(b)!==1&&Qr===R.requestAnimationFrame||((Qr=R.requestAnimationFrame)||ib)(gb)),b.__H.__.forEach(function(a){a.u&&(a.__H=a.u),a.u=void 0})),Nr=A=null},R.__c=function(r,b){b.some(function(a){try{a.__h.forEach(j),a.__h=a.__h.filter(function(o){return!o.__||Ir(o)})}catch(o){b.some(function(c){c.__h&&(c.__h=[])}),b=[],R.__e(o,a.__v)}}),$r&&$r(r,b)},R.unmount=function(r){Fr&&Fr(r);var b,a=r.__c;a&&a.__H&&(a.__H.__.forEach(function(o){try{j(o)}catch(c){b=c}}),a.__H=void 0,b&&R.__e(b,a.__v))};var Ur=typeof requestAnimationFrame=="function";function ib(r){var b,a=function(){clearTimeout(o),Ur&&cancelAnimationFrame(b),setTimeout(r)},o=setTimeout(a,35);Ur&&(b=requestAnimationFrame(a))}function j(r){var b=A,a=r.__c;typeof a=="function"&&(r.__c=void 0,a()),A=b}function Ir(r){var b=A;r.__c=r.__(),A=b}function Mr(r,b){return!r||r.length!==b.length||b.some(function(a,o){return a!==r[o]})}function Sr(r,b){return typeof b=="function"?b(r):b}var er={ko:{"comments.title":"댓글","form.name":"이름","form.password":"비밀번호","form.content":"댓글을 입력하세요...","form.submit":"댓글 작성","form.cancel":"취소","form.reply":"답글 작성","form.submitting":"작성 중...","form.error":"댓글 작성에 실패했습니다. 다시 시도해주세요.","comment.reply":"답글","comment.edit":"수정","comment.delete":"삭제","comment.deleted":"삭제된 댓글입니다.","comment.editing":"수정 중...","comment.deleting":"삭제 중...","edit.title":"댓글 수정","edit.placeholder.content":"댓글 내용을 입력하세요...","edit.placeholder.password":"비밀번호","edit.submit":"수정","edit.cancel":"취소","edit.error.required":"내용과 비밀번호를 입력해주세요.","edit.error.failed":"수정에 실패했습니다.","delete.title":"댓글 삭제","delete.message":"정말 삭제하시겠습니까?","delete.placeholder.password":"비밀번호","delete.submit":"삭제","delete.cancel":"취소","delete.error.required":"비밀번호를 입력해주세요.","delete.error.failed":"삭제에 실패했습니다.","time.justNow":"방금 전","time.minutesAgo":"{minutes}분 전","time.hoursAgo":"{hours}시간 전","time.daysAgo":"{days}일 전","time.edited":"수정됨",loading:"댓글을 불러오는 중...",empty:"첫 댓글을 작성해보세요!","error.title":"오류","error.close":"닫기","error.MISSING_API_KEY":"API 키가 필요합니다.","error.INVALID_API_KEY":"유효하지 않은 API 키입니다.","error.SITE_INACTIVE":"비활성화된 사이트입니다.","error.INVALID_ORIGIN":"허용되지 않은 도메인입니다.","error.INVALID_INPUT":"입력값이 올바르지 않습니다.","error.POST_NOT_FOUND":"게시글을 찾을 수 없습니다.","error.COMMENT_NOT_FOUND":"댓글을 찾을 수 없습니다.","error.WRONG_PASSWORD":"비밀번호가 일치하지 않습니다.","error.EDIT_TIME_EXPIRED":"댓글은 작성 후 30분 이내에만 수정/삭제할 수 있습니다.","error.RATE_LIMIT_EXCEEDED":"너무 많은 요청을 보냈습니다. 잠시 후 다시 시도해주세요.","error.INTERNAL_SERVER_ERROR":"서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.","error.UNKNOWN_ERROR":"알 수 없는 오류가 발생했습니다.","error.NETWORK_ERROR":"네트워크 연결을 확인해주세요."},en:{"comments.title":"Comments","form.name":"Name","form.password":"Password","form.content":"Write a comment...","form.submit":"Submit","form.cancel":"Cancel","form.reply":"Reply","form.submitting":"Submitting...","form.error":"Failed to submit comment. Please try again.","comment.reply":"Reply","comment.edit":"Edit","comment.delete":"Delete","comment.deleted":"This comment has been deleted.","comment.editing":"Editing...","comment.deleting":"Deleting...","edit.title":"Edit Comment","edit.placeholder.content":"Write your comment...","edit.placeholder.password":"Password","edit.submit":"Update","edit.cancel":"Cancel","edit.error.required":"Please enter content and password.","edit.error.failed":"Failed to update comment.","delete.title":"Delete Comment","delete.message":"Are you sure you want to delete this comment?","delete.placeholder.password":"Password","delete.submit":"Delete","delete.cancel":"Cancel","delete.error.required":"Please enter password.","delete.error.failed":"Failed to delete comment.","time.justNow":"Just now","time.minutesAgo":"{minutes}m ago","time.hoursAgo":"{hours}h ago","time.daysAgo":"{days}d ago","time.edited":"edited",loading:"Loading comments...",empty:"Be the first to comment!","error.title":"Error","error.close":"Close","error.MISSING_API_KEY":"API key is required.","error.INVALID_API_KEY":"Invalid API key.","error.SITE_INACTIVE":"Site is inactive.","error.INVALID_ORIGIN":"Origin not allowed.","error.INVALID_INPUT":"Invalid input.","error.POST_NOT_FOUND":"Post not found.","error.COMMENT_NOT_FOUND":"Comment not found.","error.WRONG_PASSWORD":"Wrong password.","error.EDIT_TIME_EXPIRED":"Comments can only be edited or deleted within 30 minutes.","error.RATE_LIMIT_EXCEEDED":"Too many requests. Please try again later.","error.INTERNAL_SERVER_ERROR":"Server error occurred. Please try again later.","error.UNKNOWN_ERROR":"Unknown error occurred.","error.NETWORK_ERROR":"Please check your network connection."}};var cb=0;function I(r,b,a,o,c,d){b||(b={});var i,f,N=b;if("ref"in N)for(f in N={},b)f=="ref"?i=b[f]:N[f]=b[f];var v={type:r,props:N,key:a,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--cb,__i:-1,__u:0,__source:c,__self:d};if(typeof r=="function"&&(i=r.defaultProps))for(f in i)N[f]===void 0&&(N[f]=i[f]);return s.vnode&&s.vnode(v),v}var Vr=Zr(null);function lr({locale:r,children:b}){let a=L(()=>{return{locale:r,t:(c)=>{return er[r][c]||er.ko[c]||c}}},[r]);return I(Vr.Provider,{value:a,children:b},void 0,!1,void 0,this)}function X(){let r=Cr(Vr);if(!r)throw Error("useI18n must be used within I18nProvider");return r}function J({label:r,onClick:b,size:a="normal",variant:o="filled",type:c="primary",htmlType:d="button",disabled:i=!1,className:f=""}){let v=`orb-btn-${a}`,m=`orb-btn-${o}`,g=`orb-btn-${c}`,e=["orb-btn",v,m,g,f].filter(Boolean).join(" ");return I("button",{type:d,className:e,onClick:b,disabled:i,children:r},void 0,!1,void 0,this)}function vb(r){return`error.${r}`}function H(r,b){if(!r||!r.error)return b("error.UNKNOWN_ERROR");let{code:a,message:o,details:c}=r.error;if(a){let d=vb(a),i=b(d);if(i!==d)return i}if(a==="INVALID_INPUT"&&c){let d=Object.entries(c).map(([i,f])=>`${i}: ${f.join(", ")}`).join(`
`);return`${b("error.INVALID_INPUT")}:
${d}`}if(o)return o;return b("error.UNKNOWN_ERROR")}function C({onSubmit:r,parentId:b=null,onCancel:a=null,editMode:o=!1,initialContent:c="",onError:d=null}){let[i,f]=w(""),[N,v]=w(""),[m,g]=w(c),[e,y]=w(!1),{t:p}=X(),P=o?m.trim()&&N.trim():i.trim()&&m.trim()&&N.trim();return I("form",{className:o?"orb-edit-form":"orb-comment-form",onSubmit:async(z)=>{if(z.preventDefault(),!o&&!i.trim()){if(d)d(p("error.INVALID_INPUT"));return}if(!m.trim()||!N.trim()){if(d)d(p("error.INVALID_INPUT"));return}if(y(!0),d)d(null);try{if(await r({authorName:i.trim(),password:N,content:m.trim(),parentId:b}),!o)f(""),v(""),g("")}catch(O){if(d)if(O.response){let k=O.response;d(H(k,p))}else d(O.message||p("form.error"))}finally{y(!1)}},children:[!o&&I("input",{type:"text",placeholder:p("form.name"),value:i,onInput:(z)=>f(z.target.value),disabled:e,className:"orb-input"},void 0,!1,void 0,this),I("textarea",{placeholder:o?p("edit.placeholder.content"):p("form.content"),value:m,onInput:(z)=>g(z.target.value),disabled:e,className:"orb-textarea",rows:4},void 0,!1,void 0,this),I("div",{className:"orb-form-actions",children:[I("input",{type:"password",placeholder:p("form.password"),value:N,onInput:(z)=>v(z.target.value),disabled:e,className:"orb-input orb-form-password"},void 0,!1,void 0,this),a&&I(J,{label:o?p("edit.cancel"):p("form.cancel"),type:"cancel",onClick:a,disabled:e},void 0,!1,void 0,this),I(J,{label:e?o?p("comment.editing"):p("form.submitting"):o?p("edit.submit"):b?p("form.reply"):p("form.submit"),type:"primary",htmlType:"submit",disabled:e||!P},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}function Er({comment:r,onDelete:b,onError:a,resetTrigger:o}){let[c,d]=w(!1),[i,f]=w(""),[N,v]=w(!1),{t:m}=X();u(()=>{if(o>0)d(!1),f(""),a(null)},[o]);let g=async()=>{if(!c){d(!0),a(null);return}if(!i){a(m("delete.error.required"));return}v(!0);try{await b(r.id,i),d(!1),f(""),a(null)}catch(e){if(e.response){let y=e.response;a(H(y,m))}else a(m("delete.error.failed"))}finally{v(!1)}};return I("div",{className:"orb-delete-actions",children:[c&&I(G,{children:[I("input",{type:"password",className:"orb-input orb-delete-password-input",placeholder:m("delete.placeholder.password"),value:i,onInput:(e)=>f(e.target.value),disabled:N,autoFocus:!0},void 0,!1,void 0,this),I(J,{label:m("delete.cancel"),variant:"clear",type:"cancel",size:"small",onClick:()=>d(!1),disabled:N},void 0,!1,void 0,this)]},void 0,!0,void 0,this),I(J,{label:N?m("comment.deleting"):m("comment.delete"),variant:"clear",type:"danger",size:"small",onClick:g,disabled:N},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}function Dr({error:r,onClose:b}){let{t:a}=X();return I("div",{className:"orb-error-overlay",children:[I("div",{className:"orb-error-backdrop",onClick:b},void 0,!1,void 0,this),I("div",{className:"orb-error-container",children:[I("div",{className:"orb-error-content",children:r},void 0,!1,void 0,this),I("button",{className:"orb-error-close",onClick:b,"aria-label":a("error.close"),children:"×"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}function n({comment:r,allComments:b,onReply:a,onUpdate:o,onDelete:c}){let[d,i]=w(!1),[f,N]=w(!1),[v,m]=w(null),[g,e]=w(0),{t:y}=X(),p=L(()=>r.replies||[],[r.replies]),P=L(()=>{let k=new Date(r.createdAt);return(new Date().getTime()-k.getTime())/60000<=30},[r.createdAt]),_=(k)=>{let W=new Date(k),T=new Date().getTime()-W.getTime();if(T<60000)return y("time.justNow");if(T<3600000){let Z=Math.floor(T/60000);return y("time.minutesAgo").replace("{minutes}",String(Z))}if(T<86400000){let Z=Math.floor(T/3600000);return y("time.hoursAgo").replace("{hours}",String(Z))}if(T<604800000){let Z=Math.floor(T/86400000);return y("time.daysAgo").replace("{days}",String(Z))}return W.toLocaleDateString()},z=async(k)=>{await a(k),i(!1)},O=async(k)=>{await o(r.id,k.content,k.password),N(!1),m(null)};if(r.isDeleted)return I("div",{className:"orb-comment orb-comment-deleted",children:[I("div",{className:"orb-comment-content",children:y("comment.deleted")},void 0,!1,void 0,this),p.length>0&&I("div",{className:"orb-replies",children:p.map((k)=>I(n,{comment:k,allComments:b,onReply:a,onUpdate:o,onDelete:c},k.id,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this);return I("div",{className:"orb-comment",children:[v&&I(Dr,{error:v,onClose:()=>m(null)},void 0,!1,void 0,this),I("div",{className:"orb-comment-header",children:[I("div",{children:[I("span",{className:"orb-comment-author",children:r.authorName},void 0,!1,void 0,this),I("span",{className:"orb-comment-date",children:[_(r.createdAt),r.updatedAt!==r.createdAt&&I("span",{className:"orb-comment-edited",children:[" ","(",_(r.updatedAt)," ",y("time.edited"),")"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),P&&I(Er,{comment:r,onDelete:c,onError:m,resetTrigger:g},void 0,!1,void 0,this)]},void 0,!0,void 0,this),f?I(C,{editMode:!0,initialContent:r.content,onSubmit:O,onCancel:()=>{N(!1),m(null)},onError:m},void 0,!1,void 0,this):I(G,{children:[I("div",{className:"orb-comment-content",children:r.content},void 0,!1,void 0,this),I("div",{className:"orb-comment-actions",children:[!r.parentId&&I(J,{label:d?y("form.cancel"):y("comment.reply"),variant:"clear",type:"primary",size:"small",onClick:()=>i(!d)},void 0,!1,void 0,this),P&&I(J,{label:y("comment.edit"),variant:"clear",type:"secondary",size:"small",onClick:()=>{N(!0),e((k)=>k+1)}},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),(d||p.length>0)&&I("div",{className:"orb-replies",children:[d&&I("div",{className:"orb-reply-form",children:I(C,{parentId:r.id,onSubmit:z,onCancel:()=>i(!1)},void 0,!1,void 0,this)},void 0,!1,void 0,this),p.map((k)=>I(n,{comment:k,allComments:b,onReply:a,onUpdate:o,onDelete:c},k.id,!1,void 0,this))]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)}function hr({comments:r,onReply:b,onUpdate:a,onDelete:o}){let{t:c}=X(),d=r.filter((i)=>!i.parentId);if(d.length===0)return I("div",{className:"orb-empty",children:c("empty")},void 0,!1,void 0,this);return I("div",{className:"orb-comment-list",children:d.map((i)=>I(n,{comment:i,allComments:r,onReply:b,onUpdate:a,onDelete:o},i.id,!1,void 0,this))},void 0,!1,void 0,this)}function fb(r){return r.replace(/[A-Z]/g,(b)=>`_${b.toLowerCase()}`)}function mb(r){return r.replace(/_([a-z])/g,(b,a)=>a.toUpperCase())}function rr(r){if(r===null||r===void 0)return r;if(Array.isArray(r))return r.map((a)=>rr(a));if(typeof r!=="object")return r;let b={};for(let a in r)if(r.hasOwnProperty(a)){let o=fb(a);b[o]=rr(r[a])}return b}function br(r){if(r===null||r===void 0)return r;if(Array.isArray(r))return r.map((a)=>br(a));if(typeof r!=="object")return r;let b={};for(let a in r)if(r.hasOwnProperty(a)){let o=mb(a);b[o]=br(r[a])}return b}class pr{apiUrl;apiKey;constructor(r,b){this.apiUrl=r,this.apiKey=b}async request(r,b={}){let a=`${this.apiUrl}${r}`,o={...b,body:b.body?JSON.stringify(rr(b.body)):void 0},c=await fetch(a,{...o,headers:{"Content-Type":"application/json","X-Orbithall-API-Key":this.apiKey,...b.headers}});if(!c.ok){let i=await c.json(),f=Error("API Error");throw f.response=i,f}if(c.status===204)return null;let d=await c.json();return br(d)}async getComments(r,b=1,a=50){return this.request(`/posts/${r}/comments?page=${b}&limit=${a}`)}async createComment(r,b){return this.request(`/posts/${r}/comments`,{method:"POST",body:b})}async updateComment(r,b,a){return this.request(`/comments/${r}`,{method:"PUT",body:{content:b,password:a}})}async deleteComment(r,b){await this.request(`/comments/${r}`,{method:"DELETE",body:{password:b}})}}function jr({apiUrl:r,apiKey:b,postSlug:a}){let[o,c]=w([]),[d,i]=w(!0),[f,N]=w(null),{t:v}=X(),m=L(()=>new pr(r,b),[r,b]),g=async()=>{try{i(!0);let P=await m.getComments(a);c(P.comments||[]),N(null)}catch(P){if(console.error("OrbitHall: Failed to load comments",P),P instanceof Error&&P.response){let _=P.response;N(H(_,v))}else N(v("error.NETWORK_ERROR"))}finally{i(!1)}};u(()=>{g()},[a]);let e=async(P)=>{try{await m.createComment(a,P),await g()}catch(_){throw console.error("OrbitHall: Failed to submit comment",_),_}},y=async(P,_,z)=>{try{await m.updateComment(P,_,z),await g()}catch(O){throw console.error("OrbitHall: Failed to update comment",O),O}},p=async(P,_)=>{try{await m.deleteComment(P,_),await g()}catch(z){throw console.error("OrbitHall: Failed to delete comment",z),z}};return I("div",{className:"orb-widget",children:[I("div",{className:"orb-header",children:I("h3",{children:v("comments.title")},void 0,!1,void 0,this)},void 0,!1,void 0,this),I(C,{onSubmit:e},void 0,!1,void 0,this),d&&I("div",{className:"orb-loading",children:v("loading")},void 0,!1,void 0,this),f&&I("div",{className:"orb-error",children:f},void 0,!1,void 0,this),!d&&!f&&o.length===0&&I("div",{className:"orb-empty",children:v("empty")},void 0,!1,void 0,this),!d&&!f&&o.length>0&&I(hr,{comments:o,onReply:e,onUpdate:y,onDelete:p},void 0,!1,void 0,this)]},void 0,!0,void 0,this)}(function(){let b=new Map,a="";function o(i){let f=i.getAttribute("data-widget-type")||"widget",N=i.getAttribute("data-post-slug")||"",v=Date.now(),m=Math.random().toString(36).substring(2,7),g=`${f}-${N}-${v}`,e=btoa(g).replace(/[^a-zA-Z0-9]/g,"").substring(0,8);return`orb-${f}-${e}-${m}`}function c(i,f,N,v){let m=i.getAttribute("data-widget-type"),g=i.getAttribute("data-post-slug");if(!g){console.error("OrbitHall: data-post-slug attribute is required");return}switch(m){case"comments":Jr(I(lr,{locale:v,children:I(jr,{apiUrl:f,apiKey:N,postSlug:g},void 0,!1,void 0,this)},void 0,!1,void 0,this),i);break;case"reactions":console.warn("OrbitHall: reactions widget not implemented yet");break;default:console.error(`OrbitHall: Unknown widget type "${m}"`)}}function d(i,f,N,v){let m=i.getAttribute("data-orb-id");if(m&&b.has(m))return;if(!m)m=o(i),i.setAttribute("data-orb-id",m),i.setAttribute("data-orb-initialized","true");c(i,f,N,v);let g=new MutationObserver((e)=>{e.forEach((y)=>{if(y.type==="attributes"&&y.attributeName==="data-post-slug")c(i,f,N,v)})});g.observe(i,{attributes:!0}),b.set(m,g)}window.OrbitHall={init:function(i){if(!i.apiKey){console.error("OrbitHall: apiKey is required");return}a=i.apiKey;let f=i.locale||"ko";document.querySelectorAll("[data-orb-container]").forEach((v)=>{if(v instanceof HTMLElement)d(v,"http://localhost:8080/api",a,f)})},destroy:function(){b.forEach((i)=>i.disconnect()),b.clear()}}})();})();
